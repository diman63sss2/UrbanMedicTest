"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[794],{1794:(e,n,t)=>{t.r(n),t.d(n,{default:()=>I});var r=t(5893),s=t(7294),a=t(9191),o=t(9704),i=t(4162),c=t(4241),l=t(4611),u=t(238),d=t(5111),v=t(2422);const f={};var p=function(){return p=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},p.apply(this,arguments)},h=function(e){var n=e.className,t=e.userItem,s=e.onClose,a=(0,o.I0)();return(0,r.jsx)("div",p({className:(0,l.A)(f.AddUserForm,{},[n])},{children:(0,r.jsx)(d.H,{userItem:t,onSuccess:function(e){var n;e.type===d.O.CHANGE&&(a((n=e.userItem,{type:v.vs,payload:n})),s()),e.type===d.O.DELETE&&(a(function(e){return{type:v._t,payload:e}}(e.userItem)),s())},type:d.O.CHANGE,title:"Редактировать пользователя"},void 0)}),void 0)},m=function(){return m=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},m.apply(this,arguments)},y=function(e){var n=e.isOpen,t=e.onClose,s=e.userItem;return(0,r.jsx)(u.u,m({isOpen:n,onClose:t,lazy:!0},{children:(0,r.jsx)(h,{onClose:t,userItem:s},void 0)}),void 0)};var j=t(9161);const b="h4BORHXU";var x=function(){return x=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},x.apply(this,arguments)},N=function(e){e.className;var n=e.item,t=e.onShowModal,s=e.id;return(0,r.jsxs)("div",x({className:"XhHwyOTF"},{children:[(0,r.jsx)("div",x({className:b},{children:s+1}),void 0),(0,r.jsx)("div",x({className:b},{children:n.name.last}),void 0),(0,r.jsx)("div",x({className:b},{children:n.name.first}),void 0),(0,r.jsx)("div",x({className:b},{children:n.gender}),void 0),(0,r.jsx)("div",x({className:b},{children:n.email}),void 0),(0,r.jsx)("div",x({className:b},{children:(0,r.jsx)(j.z,x({onClick:function(){return t(n)},className:"DG9Aus7C",theme:j.U.BASE},{children:(0,r.jsx)("div",x({className:"yuUHb_wb"},{children:"Действия"}),void 0)}),void 0)}),void 0)]}),void 0)};const w="YhOee8LH",O="uNVGXlAv";var g=function(){return g=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},g.apply(this,arguments)},E=function(e){var n=e.className,t=(0,s.useState)({name:{first:"",last:""},email:"",gender:"male",id:0}),a=t[0],i=t[1],u=(0,s.useState)(20),d=u[0],v=u[1],f=(0,s.useState)(!1),p=f[0],h=f[1],m=(0,s.useCallback)((function(){h(!1)}),[]),j=(0,s.useCallback)((function(e){h(!0),i(e)}),[]),b=(0,o.v9)(c.RD),x=function(e){var n=(0,s.useRef)(null),t=function(){var t=n.current;t&&t.scrollHeight-t.scrollTop<=t.clientHeight+1&&e()};return(0,s.useEffect)((function(){var e=n.current;return e&&e.addEventListener("scroll",t),function(){e&&e.removeEventListener("scroll",t)}}),[e]),n}((function(){b.length>d&&v(d+20)}));return(0,r.jsxs)("div",g({className:(0,l.A)("vsZR45UN",{},[n])},{children:[(0,r.jsxs)("div",g({className:(0,l.A)(w,{},["aw9sD6WN"])},{children:[(0,r.jsx)("div",g({className:O},{children:"№"}),void 0),(0,r.jsx)("div",g({className:O},{children:"Фамилия"}),void 0),(0,r.jsx)("div",g({className:O},{children:"Имя"}),void 0),(0,r.jsx)("div",g({className:O},{children:"Пол"}),void 0),(0,r.jsx)("div",g({className:O},{children:"Почта"}),void 0),(0,r.jsx)("div",g({className:O},{children:"Действия"}),void 0)]}),void 0),(0,r.jsx)("div",g({ref:x,className:"uv6_Sl75"},{children:b.slice(0,d).map((function(e,n){return(0,r.jsx)(N,{id:n,className:w,item:e,onShowModal:j},n)}))}),void 0),p&&(0,r.jsx)(y,{userItem:a,isOpen:p,onClose:m},void 0)]}),void 0)},C=function(){var e=(0,o.I0)(),n=(0,o.v9)(c.m5),t=(0,o.v9)(c.Br);return(0,o.v9)(c.RD),(0,s.useEffect)((function(){t||e((0,i.O)(n,(function(){})))}),[e,n,t]),(0,r.jsx)(a.T,{children:(0,r.jsx)(E,{},void 0)},void 0)};const I=(0,s.memo)(C)},4162:(e,n,t)=>{t.d(n,{O:()=>c});var r=t(9669),s=t.n(r)().create({baseURL:"http://localhost:8000"}),a=t(7665),o=t(8054),i=t(2422),c=function(e,n){return function(t){return r=void 0,c=void 0,u=function(){var r,c,l;return function(e,n){var t,r,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;o;)try{if(t=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=n.call(e,o)}catch(e){a=[6,e],r=0}finally{t=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}}(this,(function(u){switch(u.label){case 0:t({type:o.bX}),u.label=1;case 1:return u.trys.push([1,4,,5]),[4,s.get("https://randomuser.me/api/?seed=".concat(e.seed,"&results=80"))];case 2:if(!(r=u.sent()).data)throw new Error;return[4,r.data];case 3:return c=u.sent(),localStorage.setItem(a.E,e.seed),t({type:o.v7,payload:c.results}),t((v=e,f=c.results,{type:i.QE,payload:{user:v,userItems:f}})),t((d=e.seed,{type:o.Xx,payload:d})),n(),[3,5];case 4:return l=u.sent(),t({type:o.IS,payload:l}),[3,5];case 5:return[2]}var d,v,f}))},new((l=void 0)||(l=Promise))((function(e,n){function t(e){try{a(u.next(e))}catch(e){n(e)}}function s(e){try{a(u.throw(e))}catch(e){n(e)}}function a(n){var r;n.done?e(n.value):(r=n.value,r instanceof l?r:new l((function(e){e(r)}))).then(t,s)}a((u=u.apply(r,c||[])).next())}));var r,c,l,u}}}}]);