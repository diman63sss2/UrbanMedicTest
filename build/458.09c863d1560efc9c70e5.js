"use strict";(self.webpackChunkproduction_project=self.webpackChunkproduction_project||[]).push([[458],{1458:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var r=t(5893),s=t(7294),a=t(9191),i=t(9704),o=t(3671),c=t(4241),l=t(4611),u=t(9161),d=t(238),v=t(5111),f=t(2422);const p={};var h=function(){return h=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},h.apply(this,arguments)},m=function(e){var n=e.className,t=e.userItem,s=e.onClose,a=(0,i.I0)();return(0,r.jsx)("div",h({className:(0,l.A)(p.AddUserForm,{},[n])},{children:(0,r.jsx)(v.H,{userItem:t,onSuccess:function(e){var n;e.type===v.O.CHANGE&&(a((n=e.userItem,{type:f.vs,payload:n})),s()),e.type===v.O.DELETE&&(a(function(e){return{type:f._t,payload:e}}(e.userItem)),s())},type:v.O.CHANGE,title:"Редактировать пользователя"},void 0)}),void 0)},y=function(){return y=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},y.apply(this,arguments)},j=function(e){var n=e.isOpen,t=e.onClose,s=e.userItem;return(0,r.jsx)(d.u,y({isOpen:n,onClose:t,lazy:!0},{children:(0,r.jsx)(m,{onClose:t,userItem:s},void 0)}),void 0)};const x="YhOee8LH",b="uNVGXlAv";var N=function(){return N=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var s in n=arguments[t])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e},N.apply(this,arguments)},w=function(e){var n=e.className,t=(0,s.useState)({name:{first:"",last:""},email:"",gender:"male",id:0}),a=t[0],o=t[1],d=(0,s.useState)(20),v=d[0],f=d[1],p=(0,s.useState)(!1),h=p[0],m=p[1],y=(0,s.useCallback)((function(){m(!1)}),[]),w=(0,s.useCallback)((function(e){m(!0),o(e)}),[]),O=(0,i.v9)(c.RD),g=function(e){var n=(0,s.useRef)(null),t=function(){var t=n.current;t&&t.scrollHeight-t.scrollTop<=t.clientHeight+1&&e()};return(0,s.useEffect)((function(){var e=n.current;return e&&e.addEventListener("scroll",t),function(){e&&e.removeEventListener("scroll",t)}}),[e]),n}((function(){O.length>v&&f(v+20)}));return(0,r.jsxs)("div",N({className:(0,l.A)("vsZR45UN",{},[n])},{children:[(0,r.jsxs)("div",N({className:(0,l.A)(x,{},["aw9sD6WN"])},{children:[(0,r.jsx)("div",N({className:b},{children:"№"}),void 0),(0,r.jsx)("div",N({className:b},{children:"Фамилия"}),void 0),(0,r.jsx)("div",N({className:b},{children:"Имя"}),void 0),(0,r.jsx)("div",N({className:b},{children:"Пол"}),void 0),(0,r.jsx)("div",N({className:b},{children:"Почта"}),void 0),(0,r.jsx)("div",N({className:b},{children:"Действия"}),void 0)]}),void 0),(0,r.jsx)("div",N({ref:g,className:"uv6_Sl75"},{children:O.slice(0,v).map((function(e,n){return(0,r.jsxs)("div",N({className:x},{children:[(0,r.jsx)("div",N({className:b},{children:n+1}),void 0),(0,r.jsx)("div",N({className:b},{children:e.name.last}),void 0),(0,r.jsx)("div",N({className:b},{children:e.name.first}),void 0),(0,r.jsx)("div",N({className:b},{children:e.gender}),void 0),(0,r.jsx)("div",N({className:b},{children:e.email}),void 0),(0,r.jsx)("div",N({className:b},{children:(0,r.jsx)(u.z,N({onClick:function(){return w(e)},className:"q_Sn7yen",theme:u.U.BASE},{children:"Действия"}),void 0)}),void 0)]}),n)}))}),void 0),h&&(0,r.jsx)(j,{userItem:a,isOpen:h,onClose:y},void 0)]}),void 0)},O=function(){var e=(0,i.I0)(),n=(0,i.v9)(c.m5),t=(0,i.v9)(c.Br);return(0,i.v9)(c.RD),(0,s.useEffect)((function(){t||e((0,o.O)(n,(function(){})))}),[e,n,t]),(0,r.jsx)(a.T,{children:(0,r.jsx)(w,{},void 0)},void 0)};const g=(0,s.memo)(O)},3671:(e,n,t)=>{t.d(n,{O:()=>c});var r=t(9669),s=t.n(r)().create({baseURL:"http://localhost:8000"}),a=t(7665),i=t(2422),o=t(8054),c=function(e,n){return function(t){return r=void 0,c=void 0,u=function(){var r,c,l;return function(e,n){var t,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(a){return function(o){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=n.call(e,i)}catch(e){a=[6,e],r=0}finally{t=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,o])}}}(this,(function(u){switch(u.label){case 0:t({type:o.bX}),u.label=1;case 1:return u.trys.push([1,4,,5]),[4,s.get("https://randomuser.me/api/?seed=".concat(e.seed,"&results=80"))];case 2:if(!(r=u.sent()).data)throw new Error;return[4,r.data];case 3:return c=u.sent(),localStorage.setItem(a.E,e.seed),t({type:o.v7,payload:c.results}),t((d=e,v=c.results,{type:i.QE,payload:{user:d,userItems:v}})),n(),[3,5];case 4:return l=u.sent(),t({type:o.IS,payload:l}),[3,5];case 5:return[2]}var d,v}))},new((l=void 0)||(l=Promise))((function(e,n){function t(e){try{a(u.next(e))}catch(e){n(e)}}function s(e){try{a(u.throw(e))}catch(e){n(e)}}function a(n){var r;n.done?e(n.value):(r=n.value,r instanceof l?r:new l((function(e){e(r)}))).then(t,s)}a((u=u.apply(r,c||[])).next())}));var r,c,l,u}}}}]);